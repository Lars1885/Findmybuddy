:root{
  --bg:#eaf2ff; --card:#ffffff; --text:#1b2a41; --muted:#6c7a89;
  --accent:#59d185; --danger:#ef4444; --border:#e5e7eb;
}
*{ box-sizing:border-box; }
html,body{ height:100%; }
body{ margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; color:var(--text); background:var(--bg); }
body {
  background-color: lightblue;
}

/* Topbar */
.topbar{ position:sticky; top:0; z-index:20; background:#fff; border-bottom:1px solid var(--border);
  padding:8px 12px; display:flex; align-items:center; justify-content:space-between; gap:12px; }
.brand{ display:flex; align-items:center; gap:8px; font-weight:800; }
.brand img{ width:32px; height:32px; border-radius:8px; object-fit:cover; }
.top-actions{ display:flex; gap:10px; flex-wrap:wrap; }
.top-actions .group, .top-actions .me{ display:flex; gap:6px; align-items:center; }
.top-actions input{ border:1px solid var(--border); border-radius:10px; padding:8px 10px; }
.btn{ border:0; padding:8px 12px; border-radius:10px; background:#f3f4f6; font-weight:600; cursor:pointer; }
.btn.primary{ background:linear-gradient(180deg,#59d185,#38b26b); color:#fff; }
.btn.pill{ border-radius:999px; }
.btn.file{ display:inline-flex; align-items:center; gap:8px; cursor:pointer; }

/* Layout */
.arrow-wrap{ position:relative; height: calc(100vh - 64px); overflow:hidden; }
.meta-bar{
  position:absolute; left:12px; right:12px; top:10px; z-index:5;
  display:flex; gap:12px; align-items:center; justify-content:space-between;
  background:rgba(255,255,255,.8); backdrop-filter: blur(12px);
  border:1px solid rgba(0,0,0,.06); border-radius:12px; padding:8px 10px;
}
.meta-bar .row{ display:flex; gap:8px; align-items:center; }
.meta-bar select{ border:1px solid var(--border); border-radius:10px; padding:6px 10px; }

#arrowWrap{ position:absolute; left:50%; top:45%; transform: translate(-50%, -50%); pointer-events:none; z-index:4; }
#arrowSvg{ width: 28vh; height: 28vh; filter: drop-shadow(0 12px 40px rgba(0,0,0,.18)); }

.map{ position:absolute; left:0; right:0; bottom:0; height:38%;
  border-top:1px solid var(--border); }

/* Prim√¶re handlinger */
.primary-actions{
  position:absolute; left:12px; right:12px; bottom:42%;
  display:flex; gap:8px; flex-wrap:wrap; justify-content:center; z-index:6;
}

/* Galleri */
.card{
  background:#fff; border:1px solid var(--border); border-radius:16px;
  padding:12px; box-shadow:0 10px 30px rgba(0,0,0,.05);
}
.gallery{ position:absolute; left:12px; right:12px; bottom:12px; z-index:6; }
.gallery-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.photo-grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:8px; }
.photo-grid img{ width:100%; height:110px; object-fit:cover; border-radius:10px; border:1px solid var(--border); background:#fff; }
@media (max-width:700px){ .photo-grid{ grid-template-columns:repeat(2,1fr); } }

/* FAB Chat */
.fab{
  position: fixed; right: 16px; bottom: 20px; z-index: 70;
  border: 0; border-radius: 999px; padding: 12px 16px; font-weight: 700;
  background: linear-gradient(180deg,#59d185,#38b26b); color:#fff;
  box-shadow:0 10px 24px rgba(0,0,0,.18);
}

/* Bottom sheet chat */
.sheet{
  position: fixed; left:0; right:0; bottom:0; height:90vh; transform: translateY(100%); transition: transform .18s ease-out;
  z-index:80; background: rgba(255,255,255,.64); backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px);
  border-top-left-radius:18px; border-top-right-radius:18px; border:1px solid rgba(0,0,0,.06);
  display:grid; grid-template-rows:auto auto 1fr auto auto;
}
.sheet-grabber{ display:flex; justify-content:center; align-items:center; padding:10px 0 6px; cursor:grab; touch-action:none; }
.sheet-grabber-bar{ width:44px; height:5px; border-radius:99px; background:rgba(0,0,0,.18); }
.sheet-header{ display:flex; align-items:center; justify-content:space-between; padding:8px 14px; border-bottom:1px solid rgba(0,0,0,.06); }
.sheet-close{ border:0; background:transparent; font-size:18px; cursor:pointer; padding:6px; border-radius:8px; }
.sheet-chat-list{ overflow:auto; padding:10px 12px; display:flex; flex-direction:column; gap:8px; }
.sheet-chat-form{ display:flex; gap:8px; padding: 10px 12px 12px; }
.sheet-chat-form input{ flex:1; border:1px solid var(--border); border-radius:10px; padding:10px 12px; background:rgba(255,255,255,.92); outline:none; }
.sheet-safe-area{ height: env(safe-area-inset-bottom, 10px); }
.hidden{ display:none; }
.sheet--open{ transform: translateY(0%); }
.sheet--half{ transform: translateY(38%); }
.sheet--peek{ transform: translateY(60%); }

/* Chat bobler ‚Äì basis */
.sheet-msg{ padding:10px 12px; border-radius:16px; max-width:78%;
  background:#fff; border:1px solid rgba(0,0,0,.06); align-self:flex-start; }
.sheet-msg.me{ align-self:flex-end; background:#e9f8ef; border-color: rgba(20,120,60,.12); }

/* Boble-stile (f√¶lles for hele gruppen) ‚Äì farver og sm√• ikoner */
.chat-style-default .sheet-msg{ background:#fff; }
.chat-style-heart .sheet-msg{ background:#ffe6ec; border-color:#ffb3c5; }
.chat-style-cloud .sheet-msg{ background:#eef6ff; border-color:#cce6ff; }
.chat-style-fist .sheet-msg{ background:#fff2e0; border-color:#ffd7a6; }
.chat-style-beer .sheet-msg{ background:#fff4cc; border-color:#ffe08a; }
.chat-style-star .sheet-msg{ background:#fffbe6; border-color:#ffe888; }

.chat-style-heart .sheet-msg.me{ background:#ffd1de; }
.chat-style-cloud .sheet-msg.me{ background:#d7ecff; }
.chat-style-fist .sheet-msg.me{ background:#ffe9cc; }
.chat-style-beer .sheet-msg.me{ background:#ffeab3; }
.chat-style-star .sheet-msg.me{ background:#fff3bf; }

/* Vandm√¶rke-emoji */
.chat-style-heart .sheet-msg::after{ content:"‚ù§Ô∏è"; margin-left:6px; opacity:.75; }
.chat-style-cloud .sheet-msg::after{ content:"‚òÅÔ∏è"; margin-left:6px; opacity:.75; }
.chat-style-fist .sheet-msg::after{ content:"üëäüèª"; margin-left:6px; opacity:.75; }
.chat-style-beer .sheet-msg::after{ content:"üç∫"; margin-left:6px; opacity:.75; } /* √∏lglas vibe */
.chat-style-star .sheet-msg::after{ content:"‚≠ê"; margin-left:6px; opacity:.75; }

/* Bubble picker */
.bubble-picker{ position:relative; }
.bubble-btn{ border:0; background:#fff; border:1px solid var(--border); border-radius:10px;
  padding:6px 10px; cursor:pointer; }
.bubble-palette{ position:absolute; right:0; top:38px; background:#fff; border:1px solid var(--border);
  border-radius:12px; padding:6px; display:grid; grid-template-columns:repeat(6, auto); gap:6px; z-index:5; }
.bubble-palette button{ border:0; background:#f6f7f9; border-radius:10px; padding:6px 8px; cursor:pointer; font-size:18px; }

/* Brand tweaks */
.brand img{ width:32px; height:32px; border-radius:10px; }

/* Small screens */
@media (max-width:800px){ .map{ height:32%; } }
